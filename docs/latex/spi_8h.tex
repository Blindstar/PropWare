\hypertarget{spi_8h}{\section{spi.\-h \-File \-Reference}
\label{spi_8h}\index{spi.\-h@{spi.\-h}}
}
{\ttfamily \#include $<$propeller.\-h$>$}\*
{\ttfamily \#include $<$stdlib.\-h$>$}\*
{\ttfamily \#include $<$\-Prop\-Ware.\-h$>$}\*
\subsection*{\-Defines}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{spi_8h_abb893ecb51cae270240216937ae71373}{\-S\-P\-I\-\_\-\-D\-E\-B\-U\-G\-\_\-\-P\-A\-R\-A\-M\-S}
\begin{DoxyCompactList}\small\item\em \-Extra code options -\/ \-Uncomment definitions to enable features. \end{DoxyCompactList}\item 
\hypertarget{spi_8h_aa89d921aa8cc8e4d955251bf91dfd24b}{\#define {\bfseries \-S\-P\-I\-\_\-\-F\-A\-S\-T}}\label{spi_8h_aa89d921aa8cc8e4d955251bf91dfd24b}

\item 
\hypertarget{spi_8h_ab0357e50f7a6e5f6783421628fa63a11}{\#define {\bfseries \-S\-P\-I\-\_\-\-W\-R\-\_\-\-T\-I\-M\-E\-O\-U\-T\-\_\-\-V\-A\-L}~\-C\-L\-K\-F\-R\-E\-Q/10}\label{spi_8h_ab0357e50f7a6e5f6783421628fa63a11}

\item 
\hypertarget{spi_8h_abb384c4045de4702280b3b98263fb2a3}{\#define {\bfseries \-S\-P\-I\-\_\-\-R\-D\-\_\-\-T\-I\-M\-E\-O\-U\-T\-\_\-\-V\-A\-L}~\-C\-L\-K\-F\-R\-E\-Q/10}\label{spi_8h_abb384c4045de4702280b3b98263fb2a3}

\item 
\hypertarget{spi_8h_ad4c0c3c353fcff1ecf96930288424a41}{\#define {\bfseries \-S\-P\-I\-\_\-\-M\-A\-X\-\_\-\-P\-A\-R\-\_\-\-B\-I\-T\-S}~31}\label{spi_8h_ad4c0c3c353fcff1ecf96930288424a41}

\item 
\hypertarget{spi_8h_a2ddb9d972e04f35821f4825feb672248}{\#define {\bfseries \-S\-P\-I\-\_\-\-M\-A\-X\-\_\-\-C\-L\-O\-C\-K}~(\-C\-L\-K\-F\-R\-E\-Q $>$$>$ 2)}\label{spi_8h_a2ddb9d972e04f35821f4825feb672248}

\item 
\hypertarget{spi_8h_aaf2e0fe963841af076bea13ceee2f60a}{\#define {\bfseries \-S\-P\-I\-\_\-\-E\-R\-R\-O\-R\-S\-\_\-\-B\-A\-S\-E}~1}\label{spi_8h_aaf2e0fe963841af076bea13ceee2f60a}

\item 
\hypertarget{spi_8h_ad7aa8b2172bf0f2d21947434125d8743}{\#define {\bfseries \-S\-P\-I\-\_\-\-E\-R\-R\-O\-R\-S\-\_\-\-L\-I\-M\-I\-T}~16}\label{spi_8h_ad7aa8b2172bf0f2d21947434125d8743}

\item 
\hypertarget{spi_8h_a9c0ccae181686d893639ed80b47d8fce}{\#define {\bfseries \-S\-P\-I\-\_\-\-I\-N\-V\-A\-L\-I\-D\-\_\-\-P\-I\-N}~\-S\-P\-I\-\_\-\-E\-R\-R\-O\-R\-S\-\_\-\-B\-A\-S\-E + 0}\label{spi_8h_a9c0ccae181686d893639ed80b47d8fce}

\item 
\hypertarget{spi_8h_ae26a37559915a6b16eae9011b693925a}{\#define {\bfseries \-S\-P\-I\-\_\-\-I\-N\-V\-A\-L\-I\-D\-\_\-\-C\-L\-O\-C\-K\-\_\-\-I\-N\-I\-T}~\-S\-P\-I\-\_\-\-E\-R\-R\-O\-R\-S\-\_\-\-B\-A\-S\-E + 1}\label{spi_8h_ae26a37559915a6b16eae9011b693925a}

\item 
\hypertarget{spi_8h_adee07ee84205c8a33c32aa7d537bb7f1}{\#define {\bfseries \-S\-P\-I\-\_\-\-I\-N\-V\-A\-L\-I\-D\-\_\-\-M\-O\-D\-E}~\-S\-P\-I\-\_\-\-E\-R\-R\-O\-R\-S\-\_\-\-B\-A\-S\-E + 2}\label{spi_8h_adee07ee84205c8a33c32aa7d537bb7f1}

\item 
\hypertarget{spi_8h_ab04c6e32b6396692ec90d8a0f21fd570}{\#define {\bfseries \-S\-P\-I\-\_\-\-I\-N\-V\-A\-L\-I\-D\-\_\-\-P\-I\-N\-\_\-\-M\-A\-S\-K}~\-S\-P\-I\-\_\-\-E\-R\-R\-O\-R\-S\-\_\-\-B\-A\-S\-E + 3}\label{spi_8h_ab04c6e32b6396692ec90d8a0f21fd570}

\item 
\hypertarget{spi_8h_adfcc1a85b2f83b47c210bac0ecc3b17f}{\#define {\bfseries \-S\-P\-I\-\_\-\-T\-O\-O\-\_\-\-M\-A\-N\-Y\-\_\-\-B\-I\-T\-S}~\-S\-P\-I\-\_\-\-E\-R\-R\-O\-R\-S\-\_\-\-B\-A\-S\-E + 4}\label{spi_8h_adfcc1a85b2f83b47c210bac0ecc3b17f}

\item 
\hypertarget{spi_8h_a0131f2774f4e3dd71567400683b60405}{\#define {\bfseries \-S\-P\-I\-\_\-\-T\-I\-M\-E\-O\-U\-T}~\-S\-P\-I\-\_\-\-E\-R\-R\-O\-R\-S\-\_\-\-B\-A\-S\-E + 5}\label{spi_8h_a0131f2774f4e3dd71567400683b60405}

\item 
\hypertarget{spi_8h_a2c961ac14092949c9203f487ddabc8b7}{\#define {\bfseries \-S\-P\-I\-\_\-\-T\-I\-M\-E\-O\-U\-T\-\_\-\-R\-D}~\-S\-P\-I\-\_\-\-E\-R\-R\-O\-R\-S\-\_\-\-B\-A\-S\-E + 6}\label{spi_8h_a2c961ac14092949c9203f487ddabc8b7}

\item 
\hypertarget{spi_8h_a1e2bd4a2c458133a8bb504e8fd634aa8}{\#define {\bfseries \-S\-P\-I\-\_\-\-E\-X\-C\-E\-S\-S\-I\-V\-E\-\_\-\-P\-A\-R\-\_\-\-S\-Z}~\-S\-P\-I\-\_\-\-E\-R\-R\-O\-R\-S\-\_\-\-B\-A\-S\-E + 7}\label{spi_8h_a1e2bd4a2c458133a8bb504e8fd634aa8}

\item 
\hypertarget{spi_8h_a77089ed741166c75895bbe2ac0d735c1}{\#define {\bfseries \-S\-P\-I\-\_\-\-C\-O\-G\-\_\-\-N\-O\-T\-\_\-\-S\-T\-A\-R\-T\-E\-D}~\-S\-P\-I\-\_\-\-E\-R\-R\-O\-R\-S\-\_\-\-B\-A\-S\-E + 8}\label{spi_8h_a77089ed741166c75895bbe2ac0d735c1}

\item 
\hypertarget{spi_8h_ac740d3c2f0305ecee450bbc4c8eb4ece}{\#define {\bfseries \-S\-P\-I\-\_\-\-M\-O\-D\-U\-L\-E\-\_\-\-N\-O\-T\-\_\-\-R\-U\-N\-N\-I\-N\-G}~\-S\-P\-I\-\_\-\-E\-R\-R\-O\-R\-S\-\_\-\-B\-A\-S\-E + 9}\label{spi_8h_ac740d3c2f0305ecee450bbc4c8eb4ece}

\item 
\hypertarget{spi_8h_a7f658c92ee8ce9b1c3edb29f9adb2f7e}{\#define {\bfseries \-S\-P\-I\-\_\-\-I\-N\-V\-A\-L\-I\-D\-\_\-\-F\-R\-E\-Q}~\-S\-P\-I\-\_\-\-E\-R\-R\-O\-R\-S\-\_\-\-B\-A\-S\-E + 10}\label{spi_8h_a7f658c92ee8ce9b1c3edb29f9adb2f7e}

\item 
\hypertarget{spi_8h_a2084fa9f102bed6ca82ce27e43ff9aea}{\#define {\bfseries \-S\-P\-I\-\_\-\-I\-N\-V\-A\-L\-I\-D\-\_\-\-B\-Y\-T\-E\-\_\-\-S\-I\-Z\-E}~\-S\-P\-I\-\_\-\-E\-R\-R\-O\-R\-S\-\_\-\-B\-A\-S\-E + 11}\label{spi_8h_a2084fa9f102bed6ca82ce27e43ff9aea}

\item 
\hypertarget{spi_8h_a2516fde2d9190502d359bff011494eb6}{\#define {\bfseries \-S\-P\-I\-\_\-\-A\-D\-D\-R\-\_\-\-M\-I\-S\-A\-L\-I\-G\-N}~\-S\-P\-I\-\_\-\-E\-R\-R\-O\-R\-S\-\_\-\-B\-A\-S\-E + 12}\label{spi_8h_a2516fde2d9190502d359bff011494eb6}

\item 
\hypertarget{spi_8h_aa53d552902804fffce412626af5c8c3f}{\#define {\bfseries \-S\-P\-I\-\_\-\-I\-N\-V\-A\-L\-I\-D\-\_\-\-B\-I\-T\-M\-O\-D\-E}~\-S\-P\-I\-\_\-\-E\-R\-R\-O\-R\-S\-\_\-\-B\-A\-S\-E + 13}\label{spi_8h_aa53d552902804fffce412626af5c8c3f}

\item 
\hypertarget{spi_8h_a6f0cabea9fb11ceb7d006fcc73682317}{\#define {\bfseries \-S\-P\-I\-\_\-\-T\-I\-M\-E\-O\-U\-T\-\_\-\-W\-I\-G\-G\-L\-E\-\_\-\-R\-O\-O\-M}~400}\label{spi_8h_a6f0cabea9fb11ceb7d006fcc73682317}

\item 
\hypertarget{spi_8h_a3fa89bb6adc90f63a8c92e66868a3d63}{\#define {\bfseries \-S\-P\-I\-\_\-\-F\-U\-N\-C\-\_\-\-S\-E\-N\-D}~0}\label{spi_8h_a3fa89bb6adc90f63a8c92e66868a3d63}

\item 
\hypertarget{spi_8h_af4bb0eeae3d01874efee0fa99bfb98f3}{\#define {\bfseries \-S\-P\-I\-\_\-\-F\-U\-N\-C\-\_\-\-R\-E\-A\-D}~1}\label{spi_8h_af4bb0eeae3d01874efee0fa99bfb98f3}

\item 
\hypertarget{spi_8h_a78ebe66aa50c4151bdcb0303c1536932}{\#define {\bfseries \-S\-P\-I\-\_\-\-F\-U\-N\-C\-\_\-\-S\-E\-N\-D\-\_\-\-F\-A\-S\-T}~2}\label{spi_8h_a78ebe66aa50c4151bdcb0303c1536932}

\item 
\hypertarget{spi_8h_af2b27a3534ef2ac61f11c6e19b4d2772}{\#define {\bfseries \-S\-P\-I\-\_\-\-F\-U\-N\-C\-\_\-\-R\-E\-A\-D\-\_\-\-F\-A\-S\-T}~3}\label{spi_8h_af2b27a3534ef2ac61f11c6e19b4d2772}

\item 
\hypertarget{spi_8h_a794949720453c6fd2668433058213093}{\#define {\bfseries \-S\-P\-I\-\_\-\-F\-U\-N\-C\-\_\-\-R\-E\-A\-D\-\_\-\-S\-E\-C\-T\-O\-R}~4}\label{spi_8h_a794949720453c6fd2668433058213093}

\item 
\hypertarget{spi_8h_adecc639bf7aa385bda5d478c9b0e9871}{\#define {\bfseries \-S\-P\-I\-\_\-\-F\-U\-N\-C\-\_\-\-S\-E\-T\-\_\-\-M\-O\-D\-E}~5}\label{spi_8h_adecc639bf7aa385bda5d478c9b0e9871}

\item 
\hypertarget{spi_8h_a34002c046bfeda0a8fbb90525fbb12ab}{\#define {\bfseries \-S\-P\-I\-\_\-\-F\-U\-N\-C\-\_\-\-S\-E\-T\-\_\-\-B\-I\-T\-M\-O\-D\-E}~6}\label{spi_8h_a34002c046bfeda0a8fbb90525fbb12ab}

\item 
\hypertarget{spi_8h_a91c678db09bd82d74ea75cc0b4ca61c1}{\#define {\bfseries \-S\-P\-I\-\_\-\-F\-U\-N\-C\-\_\-\-S\-E\-T\-\_\-\-F\-R\-E\-Q}~7}\label{spi_8h_a91c678db09bd82d74ea75cc0b4ca61c1}

\item 
\hypertarget{spi_8h_a2c28029586d46617538fee3f32f08969}{\#define {\bfseries \-S\-P\-I\-\_\-\-F\-U\-N\-C\-\_\-\-G\-E\-T\-\_\-\-F\-R\-E\-Q}~8}\label{spi_8h_a2c28029586d46617538fee3f32f08969}

\item 
\hypertarget{spi_8h_a33c87e707e68f4bddf2cee3479273912}{\#define {\bfseries \-S\-P\-I\-\_\-\-B\-I\-T\-S\-\_\-\-O\-F\-F\-S\-E\-T}~8}\label{spi_8h_a33c87e707e68f4bddf2cee3479273912}

\item 
\hypertarget{spi_8h_aa0fd1ffd51ee3ec074d59afaec3b9bf4}{\#define {\bfseries \-S\-P\-I\-\_\-\-P\-H\-A\-S\-E\-\_\-\-B\-I\-T}~\-B\-I\-T\-\_\-0}\label{spi_8h_aa0fd1ffd51ee3ec074d59afaec3b9bf4}

\item 
\hypertarget{spi_8h_abf13cbd6dde06e32a6c51868fa60dfda}{\#define {\bfseries \-S\-P\-I\-\_\-\-P\-O\-L\-A\-R\-I\-T\-Y\-\_\-\-B\-I\-T}~\-B\-I\-T\-\_\-1}\label{spi_8h_abf13cbd6dde06e32a6c51868fa60dfda}

\item 
\hypertarget{spi_8h_a278f2a4286167a107699742a61433af0}{\#define {\bfseries \-S\-P\-I\-\_\-\-B\-I\-T\-M\-O\-D\-E\-\_\-\-B\-I\-T}~\-B\-I\-T\-\_\-2}\label{spi_8h_a278f2a4286167a107699742a61433af0}

\end{DoxyCompactItemize}
\subsection*{\-Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{spi_8h_a9a007893b26e98095afd1e6dc16b2354}{spimode\-\_\-t} \{ \*
{\bfseries \-S\-P\-I\-\_\-\-M\-O\-D\-E\-\_\-0}, 
{\bfseries \-S\-P\-I\-\_\-\-M\-O\-D\-E\-\_\-1}, 
{\bfseries \-S\-P\-I\-\_\-\-M\-O\-D\-E\-\_\-2}, 
{\bfseries \-S\-P\-I\-\_\-\-M\-O\-D\-E\-\_\-3}, 
\*
{\bfseries \-S\-P\-I\-\_\-\-M\-O\-D\-E\-S}, 
{\bfseries \-S\-P\-I\-\_\-\-M\-O\-D\-E\-\_\-0}, 
{\bfseries \-S\-P\-I\-\_\-\-M\-O\-D\-E\-\_\-1}, 
{\bfseries \-S\-P\-I\-\_\-\-M\-O\-D\-E\-\_\-2}, 
\*
{\bfseries \-S\-P\-I\-\_\-\-M\-O\-D\-E\-\_\-3}, 
{\bfseries \-S\-P\-I\-\_\-\-M\-O\-D\-E\-S}
 \}
\begin{DoxyCompactList}\small\item\em \-Descriptor for \-S\-P\-I signal as defined by \-Motorola modes. \end{DoxyCompactList}\item 
enum \hyperlink{spi_8h_adb031b048513c82ad2714a30989813cb}{spibitmode\-\_\-t} \{ \*
{\bfseries \-S\-P\-I\-\_\-\-L\-S\-B\-\_\-\-F\-I\-R\-S\-T} =  \-S\-P\-I\-\_\-\-M\-O\-D\-E\-S, 
{\bfseries \-S\-P\-I\-\_\-\-M\-S\-B\-\_\-\-F\-I\-R\-S\-T}, 
{\bfseries \-S\-P\-I\-\_\-\-B\-I\-T\-\_\-\-M\-O\-D\-E\-S}, 
{\bfseries \-S\-P\-I\-\_\-\-L\-S\-B\-\_\-\-F\-I\-R\-S\-T} =  \-S\-P\-I\-\_\-\-M\-O\-D\-E\-S, 
\*
{\bfseries \-S\-P\-I\-\_\-\-M\-S\-B\-\_\-\-F\-I\-R\-S\-T}, 
{\bfseries \-S\-P\-I\-\_\-\-B\-I\-T\-\_\-\-M\-O\-D\-E\-S}
 \}
\end{DoxyCompactItemize}
\subsection*{\-Functions}
\begin{DoxyCompactItemize}
\item 
uint8\-\_\-t \hyperlink{spi_8h_ae4ef02ff9049b9a16d01d12831fa166f}{\-S\-P\-I\-Start} (const uint32\-\_\-t mosi, const uint32\-\_\-t miso, const uint32\-\_\-t sclk, const uint32\-\_\-t frequency, const \hyperlink{spi_8h_a9a007893b26e98095afd1e6dc16b2354}{spimode\-\_\-t} mode, const \hyperlink{spi_8h_adb031b048513c82ad2714a30989813cb}{spibitmode\-\_\-t} bitmode)
\begin{DoxyCompactList}\small\item\em \-Initialize an \-S\-P\-I module by starting a new cog. \end{DoxyCompactList}\item 
uint8\-\_\-t \hyperlink{spi_8h_a5cfe040d2137a50877b5234171eebf81}{\-S\-P\-I\-Stop} (void)
\begin{DoxyCompactList}\small\item\em \-Stop a running \-S\-P\-I cog. \end{DoxyCompactList}\item 
int8\-\_\-t \hyperlink{spi_8h_ab1ff9212eaff36a9678edc5ca6d20de3}{\-S\-P\-I\-Is\-Running} (void)
\begin{DoxyCompactList}\small\item\em \-Determine if the \-S\-P\-I cog has already been initialized. \end{DoxyCompactList}\item 
uint8\-\_\-t \hyperlink{spi_8h_a7c28b5429b624322919ba48763fc763a}{\-S\-P\-I\-Wait} (void)
\begin{DoxyCompactList}\small\item\em \-Wait for the \-S\-P\-I cog to signal that it is in the idle state. \end{DoxyCompactList}\item 
uint8\-\_\-t \hyperlink{spi_8h_a3fcc0a1cd923223738fe2f1f1d905c89}{\-S\-P\-I\-Set\-Mode} (const uint8\-\_\-t mode)
\begin{DoxyCompactList}\small\item\em \-Set the mode of \-S\-P\-I communication. \end{DoxyCompactList}\item 
uint8\-\_\-t \hyperlink{spi_8h_a5dfe751b2cb2eda650a7d304bb4055b9}{\-S\-P\-I\-Set\-Bit\-Mode} (const uint8\-\_\-t bitmode)
\begin{DoxyCompactList}\small\item\em \-Set the bitmode of \-S\-P\-I communication. \end{DoxyCompactList}\item 
uint8\-\_\-t \hyperlink{spi_8h_a8415a6a88c021f6750f8e3917c022c5d}{\-S\-P\-I\-Set\-Clock} (const uint32\-\_\-t frequency)
\begin{DoxyCompactList}\small\item\em \-Change the \-S\-P\-I module's clock frequency. \end{DoxyCompactList}\item 
uint8\-\_\-t \hyperlink{spi_8h_aec694b2eedcd0f7eb7f65640b3b3f8a2}{\-S\-P\-I\-Get\-Clock} (uint32\-\_\-t $\ast$frequency)
\item 
uint8\-\_\-t \hyperlink{spi_8h_a029d4832e0d423b87f8a63dbf3203235}{\-S\-P\-I\-Shift\-Out} (uint8\-\_\-t bits, uint32\-\_\-t value)
\begin{DoxyCompactList}\small\item\em \-Send a value out to a peripheral device. \end{DoxyCompactList}\item 
uint8\-\_\-t \hyperlink{spi_8h_a70b9a4772bd7540617c4e68b92f0bdfd}{\-S\-P\-I\-Shift\-In} (const uint8\-\_\-t bits, void $\ast$data, const size\-\_\-t size)
\begin{DoxyCompactList}\small\item\em \-Receive a value in from a peripheral device. \end{DoxyCompactList}\item 
void \hyperlink{spi_8h_a2031bd3335e67981ca36e29fe54aae13}{\-S\-P\-I\-Shift\-Out\-\_\-fast} (uint8\-\_\-t bits, uint32\-\_\-t value)
\begin{DoxyCompactList}\small\item\em \-Send a value out to a peripheral device. \end{DoxyCompactList}\item 
void \hyperlink{spi_8h_a729e6ea2dda812fd5fff3499f76ed935}{\-S\-P\-I\-Shift\-In\-\_\-fast} (const uint8\-\_\-t bits, void $\ast$data, const uint8\-\_\-t bytes)
\begin{DoxyCompactList}\small\item\em \-Receive a value in from a peripheral device; \-Optimized for fastest possible clock speed; \-No error checking is performed; '\-Timeout' event will never be thrown and possible infinite loop can happen. \end{DoxyCompactList}\item 
void \hyperlink{spi_8h_ae7a49a60d6c0d3975ff96727fa7b0a7c}{\-S\-P\-I\-Shift\-In\-\_\-sector} (const uint8\-\_\-t addr\mbox{[}$\,$\mbox{]}, const uint8\-\_\-t blocking)
\begin{DoxyCompactList}\small\item\em \-Read an entire sector of data in from an \-S\-D card. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{\-Detailed \-Description}
\begin{DoxyAuthor}{\-Author}
\-David \-Zemon
\end{DoxyAuthor}
\-Provides a library for the propeller, running in the current cog, for \-S\-P\-I communication. \-Inspired by \-O\-B\-E\-X \#433. 

\subsection{\-Define \-Documentation}
\hypertarget{spi_8h_abb893ecb51cae270240216937ae71373}{\index{spi.\-h@{spi.\-h}!\-S\-P\-I\-\_\-\-D\-E\-B\-U\-G\-\_\-\-P\-A\-R\-A\-M\-S@{\-S\-P\-I\-\_\-\-D\-E\-B\-U\-G\-\_\-\-P\-A\-R\-A\-M\-S}}
\index{\-S\-P\-I\-\_\-\-D\-E\-B\-U\-G\-\_\-\-P\-A\-R\-A\-M\-S@{\-S\-P\-I\-\_\-\-D\-E\-B\-U\-G\-\_\-\-P\-A\-R\-A\-M\-S}!spi.h@{spi.\-h}}
\subsubsection[{\-S\-P\-I\-\_\-\-D\-E\-B\-U\-G\-\_\-\-P\-A\-R\-A\-M\-S}]{\setlength{\rightskip}{0pt plus 5cm}\#define {\bf \-S\-P\-I\-\_\-\-D\-E\-B\-U\-G\-\_\-\-P\-A\-R\-A\-M\-S}}}\label{spi_8h_abb893ecb51cae270240216937ae71373}


\-Extra code options -\/ \-Uncomment definitions to enable features. 


\begin{DoxyParams}{\-Parameters}
{\em \-S\-P\-I\-\_\-\-D\-E\-B\-U\-G} & \-Debugging features similar to exceptions; \-Errors will be caught the program will enter an infinite loop \-D\-E\-F\-A\-U\-L\-T\-: \-O\-F\-F \\
\hline
{\em \-S\-P\-I\-\_\-\-D\-E\-B\-U\-G\-\_\-\-P\-A\-R\-A\-M\-S} & \-Parameter checking within each function call. \-I recommend you leave this option enabled unless speed is critical \-D\-E\-F\-A\-U\-L\-T\-: \-O\-N \\
\hline
{\em \-S\-P\-I\-\_\-\-F\-A\-S\-T} & \-Allows for fast send and receive routines without error checking or timing delays; \-Normal routines still available when enabled \-D\-E\-F\-A\-U\-L\-T\-: \-O\-N \-T\-O\-D\-O\-: \-Use the counter module instead of \char`\"{}xor clk\-Pin, clk\-Pin\char`\"{} \\
\hline
{\em \-S\-P\-I\-\_\-\-F\-A\-S\-T\-\_\-\-S\-E\-C\-T\-O\-R} & \-T\-O\-D\-O\-: \-Figure out why this doesn't work... \-:( \-D\-E\-F\-A\-U\-L\-T\-: \-O\-F\-F \\
\hline
\end{DoxyParams}


\subsection{\-Enumeration \-Type \-Documentation}
\hypertarget{spi_8h_adb031b048513c82ad2714a30989813cb}{\index{spi.\-h@{spi.\-h}!spibitmode\-\_\-t@{spibitmode\-\_\-t}}
\index{spibitmode\-\_\-t@{spibitmode\-\_\-t}!spi.h@{spi.\-h}}
\subsubsection[{spibitmode\-\_\-t}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf spibitmode\-\_\-t}}}\label{spi_8h_adb031b048513c82ad2714a30989813cb}
\begin{DoxyNote}{\-Note}
\-Initial value is \-S\-P\-I\-\_\-\-M\-O\-D\-E\-S + 1 making them easily distinguisable 
\end{DoxyNote}
\hypertarget{spi_8h_a9a007893b26e98095afd1e6dc16b2354}{\index{spi.\-h@{spi.\-h}!spimode\-\_\-t@{spimode\-\_\-t}}
\index{spimode\-\_\-t@{spimode\-\_\-t}!spi.h@{spi.\-h}}
\subsubsection[{spimode\-\_\-t}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf spimode\-\_\-t}}}\label{spi_8h_a9a007893b26e98095afd1e6dc16b2354}


\-Descriptor for \-S\-P\-I signal as defined by \-Motorola modes. 

\-C\-P\-O\-L 0 refers to a low polarity (where the clock idles in the low state) and \-C\-P\-O\-L 1 is for high polarity. \-T\-O\-D\-O\-: \-Describe phase

\-S\-P\-I mode \-C\-P\-O\-L \-C\-P\-H\-A 0 0 0 1 0 1 2 1 0 3 1 1 

\subsection{\-Function \-Documentation}
\hypertarget{spi_8h_aec694b2eedcd0f7eb7f65640b3b3f8a2}{\index{spi.\-h@{spi.\-h}!\-S\-P\-I\-Get\-Clock@{\-S\-P\-I\-Get\-Clock}}
\index{\-S\-P\-I\-Get\-Clock@{\-S\-P\-I\-Get\-Clock}!spi.h@{spi.\-h}}
\subsubsection[{\-S\-P\-I\-Get\-Clock}]{\setlength{\rightskip}{0pt plus 5cm}uint8\-\_\-t {\bf \-S\-P\-I\-Get\-Clock} (
\begin{DoxyParamCaption}
\item[{uint32\-\_\-t $\ast$}]{frequency}
\end{DoxyParamCaption}
)}}\label{spi_8h_aec694b2eedcd0f7eb7f65640b3b3f8a2}
\-T\-O\-D\-O\-: \-Should \-I leave this function or remove it? \hypertarget{spi_8h_ab1ff9212eaff36a9678edc5ca6d20de3}{\index{spi.\-h@{spi.\-h}!\-S\-P\-I\-Is\-Running@{\-S\-P\-I\-Is\-Running}}
\index{\-S\-P\-I\-Is\-Running@{\-S\-P\-I\-Is\-Running}!spi.h@{spi.\-h}}
\subsubsection[{\-S\-P\-I\-Is\-Running}]{\setlength{\rightskip}{0pt plus 5cm}int8\-\_\-t {\bf \-S\-P\-I\-Is\-Running} (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}\label{spi_8h_ab1ff9212eaff36a9678edc5ca6d20de3}


\-Determine if the \-S\-P\-I cog has already been initialized. 

\begin{DoxyReturn}{\-Returns}
\-Returns 1 if the \-S\-P\-I cog is up and running, 0 otherwise 
\end{DoxyReturn}
\hypertarget{spi_8h_a5dfe751b2cb2eda650a7d304bb4055b9}{\index{spi.\-h@{spi.\-h}!\-S\-P\-I\-Set\-Bit\-Mode@{\-S\-P\-I\-Set\-Bit\-Mode}}
\index{\-S\-P\-I\-Set\-Bit\-Mode@{\-S\-P\-I\-Set\-Bit\-Mode}!spi.h@{spi.\-h}}
\subsubsection[{\-S\-P\-I\-Set\-Bit\-Mode}]{\setlength{\rightskip}{0pt plus 5cm}uint8\-\_\-t {\bf \-S\-P\-I\-Set\-Bit\-Mode} (
\begin{DoxyParamCaption}
\item[{const uint8\-\_\-t}]{bitmode}
\end{DoxyParamCaption}
)}}\label{spi_8h_a5dfe751b2cb2eda650a7d304bb4055b9}


\-Set the bitmode of \-S\-P\-I communication. 


\begin{DoxyParams}{\-Parameters}
{\em mode} & \-Select one of \-S\-P\-I\-\_\-\-L\-S\-B\-\_\-\-F\-I\-R\-S\-T or \-S\-P\-I\-\_\-\-M\-S\-B\-\_\-\-F\-I\-R\-S\-T to choose which bit will be shifted out first\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
\-Can return non-\/zero in the case of a timeout 
\end{DoxyReturn}
\hypertarget{spi_8h_a8415a6a88c021f6750f8e3917c022c5d}{\index{spi.\-h@{spi.\-h}!\-S\-P\-I\-Set\-Clock@{\-S\-P\-I\-Set\-Clock}}
\index{\-S\-P\-I\-Set\-Clock@{\-S\-P\-I\-Set\-Clock}!spi.h@{spi.\-h}}
\subsubsection[{\-S\-P\-I\-Set\-Clock}]{\setlength{\rightskip}{0pt plus 5cm}uint8\-\_\-t {\bf \-S\-P\-I\-Set\-Clock} (
\begin{DoxyParamCaption}
\item[{const uint32\-\_\-t}]{frequency}
\end{DoxyParamCaption}
)}}\label{spi_8h_a8415a6a88c021f6750f8e3917c022c5d}


\-Change the \-S\-P\-I module's clock frequency. 


\begin{DoxyParams}{\-Parameters}
{\em frequency} & \-Frequency, in \-Hz, to run the \-S\-P\-I clock; \-Must be less than \-C\-L\-K\-F\-R\-E\-Q/4\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
\-Returns 0 upon success, otherwise error code 
\end{DoxyReturn}
\hypertarget{spi_8h_a3fcc0a1cd923223738fe2f1f1d905c89}{\index{spi.\-h@{spi.\-h}!\-S\-P\-I\-Set\-Mode@{\-S\-P\-I\-Set\-Mode}}
\index{\-S\-P\-I\-Set\-Mode@{\-S\-P\-I\-Set\-Mode}!spi.h@{spi.\-h}}
\subsubsection[{\-S\-P\-I\-Set\-Mode}]{\setlength{\rightskip}{0pt plus 5cm}uint8\-\_\-t {\bf \-S\-P\-I\-Set\-Mode} (
\begin{DoxyParamCaption}
\item[{const uint8\-\_\-t}]{mode}
\end{DoxyParamCaption}
)}}\label{spi_8h_a3fcc0a1cd923223738fe2f1f1d905c89}


\-Set the mode of \-S\-P\-I communication. 


\begin{DoxyParams}{\-Parameters}
{\em mode} & \-T\-O\-D\-O\-: \-Document me!\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
\-Can return non-\/zero in the case of a timeout 
\end{DoxyReturn}
\hypertarget{spi_8h_a70b9a4772bd7540617c4e68b92f0bdfd}{\index{spi.\-h@{spi.\-h}!\-S\-P\-I\-Shift\-In@{\-S\-P\-I\-Shift\-In}}
\index{\-S\-P\-I\-Shift\-In@{\-S\-P\-I\-Shift\-In}!spi.h@{spi.\-h}}
\subsubsection[{\-S\-P\-I\-Shift\-In}]{\setlength{\rightskip}{0pt plus 5cm}uint8\-\_\-t {\bf \-S\-P\-I\-Shift\-In} (
\begin{DoxyParamCaption}
\item[{const uint8\-\_\-t}]{bits, }
\item[{void $\ast$}]{data, }
\item[{const size\-\_\-t}]{size}
\end{DoxyParamCaption}
)}}\label{spi_8h_a70b9a4772bd7540617c4e68b92f0bdfd}


\-Receive a value in from a peripheral device. 


\begin{DoxyParams}{\-Parameters}
{\em bits} & \-Number of bits to be shifted in \\
\hline
{\em $\ast$data} & \-Received data will be stored at this address \\
\hline
{\em bytes} & \-Byte-\/width of the $\ast$data variable type; \-Must be one of 1, 2, or 4 (is $\ast$data a pointer to char, short or int?)\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
\-Returns 0 upon success, otherwise error code 
\end{DoxyReturn}
\hypertarget{spi_8h_a729e6ea2dda812fd5fff3499f76ed935}{\index{spi.\-h@{spi.\-h}!\-S\-P\-I\-Shift\-In\-\_\-fast@{\-S\-P\-I\-Shift\-In\-\_\-fast}}
\index{\-S\-P\-I\-Shift\-In\-\_\-fast@{\-S\-P\-I\-Shift\-In\-\_\-fast}!spi.h@{spi.\-h}}
\subsubsection[{\-S\-P\-I\-Shift\-In\-\_\-fast}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf \-S\-P\-I\-Shift\-In\-\_\-fast} (
\begin{DoxyParamCaption}
\item[{const uint8\-\_\-t}]{bits, }
\item[{void $\ast$}]{data, }
\item[{const uint8\-\_\-t}]{bytes}
\end{DoxyParamCaption}
)}}\label{spi_8h_a729e6ea2dda812fd5fff3499f76ed935}


\-Receive a value in from a peripheral device; \-Optimized for fastest possible clock speed; \-No error checking is performed; '\-Timeout' event will never be thrown and possible infinite loop can happen. 


\begin{DoxyParams}{\-Parameters}
{\em bits} & \-Number of bits to be shifted in \\
\hline
{\em $\ast$data} & \-Received data will be stored at this address \\
\hline
{\em bytes} & \-Byte-\/width of the $\ast$data variable type; \-Must be one of 1, 2, or 4 (is $\ast$data a pointer to char, short or int?) \\
\hline
\end{DoxyParams}
\hypertarget{spi_8h_ae7a49a60d6c0d3975ff96727fa7b0a7c}{\index{spi.\-h@{spi.\-h}!\-S\-P\-I\-Shift\-In\-\_\-sector@{\-S\-P\-I\-Shift\-In\-\_\-sector}}
\index{\-S\-P\-I\-Shift\-In\-\_\-sector@{\-S\-P\-I\-Shift\-In\-\_\-sector}!spi.h@{spi.\-h}}
\subsubsection[{\-S\-P\-I\-Shift\-In\-\_\-sector}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf \-S\-P\-I\-Shift\-In\-\_\-sector} (
\begin{DoxyParamCaption}
\item[{const uint8\-\_\-t}]{addr\mbox{[}$\,$\mbox{]}, }
\item[{const uint8\-\_\-t}]{blocking}
\end{DoxyParamCaption}
)}}\label{spi_8h_ae7a49a60d6c0d3975ff96727fa7b0a7c}


\-Read an entire sector of data in from an \-S\-D card. 


\begin{DoxyParams}{\-Parameters}
{\em $\ast$addr} & \-First hub address where the data should be written \\
\hline
{\em blocking} & \-When set to non-\/zero, function will not return until the data transfer is complete \\
\hline
\end{DoxyParams}
\hypertarget{spi_8h_a029d4832e0d423b87f8a63dbf3203235}{\index{spi.\-h@{spi.\-h}!\-S\-P\-I\-Shift\-Out@{\-S\-P\-I\-Shift\-Out}}
\index{\-S\-P\-I\-Shift\-Out@{\-S\-P\-I\-Shift\-Out}!spi.h@{spi.\-h}}
\subsubsection[{\-S\-P\-I\-Shift\-Out}]{\setlength{\rightskip}{0pt plus 5cm}uint8\-\_\-t {\bf \-S\-P\-I\-Shift\-Out} (
\begin{DoxyParamCaption}
\item[{uint8\-\_\-t}]{bits, }
\item[{uint32\-\_\-t}]{value}
\end{DoxyParamCaption}
)}}\label{spi_8h_a029d4832e0d423b87f8a63dbf3203235}


\-Send a value out to a peripheral device. 

\-Pass a value and mode into the assembly cog to be sent to the peripheral; \-N\-O\-T\-E\-: this function is non-\/blocking and chip-\/select should not be set inactive immediately after the return (you should call \hyperlink{spi_8c_a7c28b5429b624322919ba48763fc763a}{\-S\-P\-I\-Wait()} before setting chip-\/select inactive)


\begin{DoxyParams}{\-Parameters}
{\em bits} & \-Number of bits to be shifted out \\
\hline
{\em value} & \-The value to be shifted out\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
\-Returns 0 upon success, otherwise error code 
\end{DoxyReturn}
\hypertarget{spi_8h_a2031bd3335e67981ca36e29fe54aae13}{\index{spi.\-h@{spi.\-h}!\-S\-P\-I\-Shift\-Out\-\_\-fast@{\-S\-P\-I\-Shift\-Out\-\_\-fast}}
\index{\-S\-P\-I\-Shift\-Out\-\_\-fast@{\-S\-P\-I\-Shift\-Out\-\_\-fast}!spi.h@{spi.\-h}}
\subsubsection[{\-S\-P\-I\-Shift\-Out\-\_\-fast}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf \-S\-P\-I\-Shift\-Out\-\_\-fast} (
\begin{DoxyParamCaption}
\item[{uint8\-\_\-t}]{bits, }
\item[{uint32\-\_\-t}]{value}
\end{DoxyParamCaption}
)}}\label{spi_8h_a2031bd3335e67981ca36e29fe54aae13}


\-Send a value out to a peripheral device. 

\-Pass a value and mode into the assembly cog to be sent to the peripheral; \-N\-O\-T\-E\-: this function is non-\/blocking and chip-\/select should not be set inactive immediately after the return (you should call \hyperlink{spi_8c_a7c28b5429b624322919ba48763fc763a}{\-S\-P\-I\-Wait()} before setting chip-\/select inactive); \-Optimized for fastest possible clock speed; \-No error checking is performed; '\-Timeout' event will never be thrown and possible infinite loop can happen


\begin{DoxyParams}{\-Parameters}
{\em bits} & \-Number of bits to be shifted out \\
\hline
{\em value} & \-The value to be shifted out\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
\-Returns 0 upon success, otherwise error code 
\end{DoxyReturn}
\hypertarget{spi_8h_ae4ef02ff9049b9a16d01d12831fa166f}{\index{spi.\-h@{spi.\-h}!\-S\-P\-I\-Start@{\-S\-P\-I\-Start}}
\index{\-S\-P\-I\-Start@{\-S\-P\-I\-Start}!spi.h@{spi.\-h}}
\subsubsection[{\-S\-P\-I\-Start}]{\setlength{\rightskip}{0pt plus 5cm}uint8\-\_\-t {\bf \-S\-P\-I\-Start} (
\begin{DoxyParamCaption}
\item[{const uint32\-\_\-t}]{mosi, }
\item[{const uint32\-\_\-t}]{miso, }
\item[{const uint32\-\_\-t}]{sclk, }
\item[{const uint32\-\_\-t}]{frequency, }
\item[{const {\bf spimode\-\_\-t}}]{mode, }
\item[{const {\bf spibitmode\-\_\-t}}]{bitmode}
\end{DoxyParamCaption}
)}}\label{spi_8h_ae4ef02ff9049b9a16d01d12831fa166f}


\-Initialize an \-S\-P\-I module by starting a new cog. 


\begin{DoxyParams}{\-Parameters}
{\em mosi} & \-Pin mask for \-M\-O\-S\-I \\
\hline
{\em miso} & \-Pin mask for \-M\-I\-S\-O \\
\hline
{\em sclk} & \-Pin mask for \-S\-C\-L\-K \\
\hline
{\em frequency} & \-Frequency, in \-Hz, to run the \-S\-P\-I clock; \-Must be less than \-C\-L\-K\-F\-R\-E\-Q/4 \\
\hline
{\em polarity} & \-Polarity of the clock -\/ idle low or high; must be one of \-S\-P\-I\-\_\-\-P\-O\-L\-A\-R\-I\-T\-Y\-\_\-\-L\-O\-W or \-S\-P\-I\-\_\-\-P\-O\-L\-A\-R\-I\-T\-Y\-\_\-\-H\-I\-G\-H\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
\-Returns 0 upon success, otherwise error code 
\end{DoxyReturn}
\hypertarget{spi_8h_a5cfe040d2137a50877b5234171eebf81}{\index{spi.\-h@{spi.\-h}!\-S\-P\-I\-Stop@{\-S\-P\-I\-Stop}}
\index{\-S\-P\-I\-Stop@{\-S\-P\-I\-Stop}!spi.h@{spi.\-h}}
\subsubsection[{\-S\-P\-I\-Stop}]{\setlength{\rightskip}{0pt plus 5cm}uint8\-\_\-t {\bf \-S\-P\-I\-Stop} (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{spi_8h_a5cfe040d2137a50877b5234171eebf81}


\-Stop a running \-S\-P\-I cog. 

\begin{DoxyReturn}{\-Returns}
\-Returns 0 upon success, otherwise error code (will return \-S\-P\-I\-\_\-\-C\-O\-G\-\_\-\-N\-O\-T\-\_\-\-S\-T\-A\-R\-T\-E\-D if no cog has previously been started) 
\end{DoxyReturn}
\hypertarget{spi_8h_a7c28b5429b624322919ba48763fc763a}{\index{spi.\-h@{spi.\-h}!\-S\-P\-I\-Wait@{\-S\-P\-I\-Wait}}
\index{\-S\-P\-I\-Wait@{\-S\-P\-I\-Wait}!spi.h@{spi.\-h}}
\subsubsection[{\-S\-P\-I\-Wait}]{\setlength{\rightskip}{0pt plus 5cm}uint8\-\_\-t {\bf \-S\-P\-I\-Wait} (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}\label{spi_8h_a7c28b5429b624322919ba48763fc763a}


\-Wait for the \-S\-P\-I cog to signal that it is in the idle state. 

\begin{DoxyReturn}{\-Returns}
\-May return non-\/zero error code when a timeout occurs 
\end{DoxyReturn}
